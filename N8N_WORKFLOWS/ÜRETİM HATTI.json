{
  "name": "ÃœRETÄ°M HATTI",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "tools/create_n8n_flow",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        -560,
        -336
      ],
      "id": "327c7b9f-29e6-4748-8002-28947fdcbd87",
      "name": "TOOL_create_n8n_flow",
      "webhookId": "b145b66e-4470-419c-a0a2-83b4aa5c206d"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "http://127.0.0.1:5678/api/v1/workflows",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "X-N8N-API-KEY",
              "value": "DUMMY_N8N_API_KEY"
            },
            {
              "name": "Content-Type",
              "value": "application/json"
            }
          ]
        },
        "sendBody": true,
        "bodyParameters": {
          "parameters": [
            {
              "name": "name",
              "value": "={{ $json.apiWorkflow.name }}"
            },
            {
              "name": "nodes",
              "value": "={{ $json.apiWorkflow.nodes }}"
            },
            {
              "name": "connections",
              "value": "={{ $json.apiWorkflow.connections }}"
            },
            {
              "name": "settings",
              "value": "={{ $json.apiWorkflow.settings }}"
            }
          ]
        },
        "options": {
          "response": {
            "response": {}
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        272,
        -352
      ],
      "id": "5b1d85ec-080d-4bc9-a370-9233932c4186",
      "name": "X-N8N-API-KEY"
    },
    {
      "parameters": {
        "options": {
          "responseCode": 200
        }
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        752,
        -320
      ],
      "id": "a352105e-1d21-492b-b462-395c8c79d2b3",
      "name": "Respond to Webhook1"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://api.anthropic.com/v1/messages",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "Content-Type",
              "value": "application/json"
            },
            {
              "name": "x-api-key",
              "value": "DUMMY_ANTHROPIC_KEY"
            },
            {
              "name": "anthropic-version",
              "value": "2023-06-01"
            }
          ]
        },
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={{ $json.claudeRequest }}",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        -128,
        -336
      ],
      "id": "2c019546-8347-4024-a1ec-239538f1b24e",
      "name": "HTTP Request"
    },
    {
      "parameters": {
        "jsCode": "\n\n// Claude HTTP cevabÄ±ndan workflow JSON'unu Ã§ekip\n// n8n API'nin anlayacaÄŸÄ± apiWorkflow objesine Ã§eviriyoruz.\n\nconst out = [];\n\nfor (const item of items) {\n  const data = item.json || {};\n\n  // 1) Claude messages cevabÄ±ndaki text'i al\n  let rawText = \"\";\n\n  if (Array.isArray(data.content) && data.content.length > 0) {\n    const textPart =\n      data.content.find((p) => p.type === \"text\") || data.content[0];\n    rawText = textPart.text || \"\";\n  } else if (typeof data.completion === \"string\") {\n    rawText = data.completion;\n  } else if (typeof data.text === \"string\") {\n    rawText = data.text;\n  } else {\n    rawText = JSON.stringify(data);\n  }\n\n  // 2) Metnin iÃ§indeki ilk '{' ile son '}' arasÄ±nÄ± JSON kabul et\n  let wf;\n  try {\n    const start = rawText.indexOf(\"{\");\n    const end = rawText.lastIndexOf(\"}\");\n\n    if (start === -1 || end === -1 || end <= start) {\n      throw new Error(\"Claude yanÄ±tÄ±nda JSON obje bulunamadÄ±\");\n    }\n\n    const jsonStr = rawText.slice(start, end + 1);\n    wf = JSON.parse(jsonStr);\n  } catch (err) {\n    out.push({\n      json: {\n        error: \"WORKFLOW_JSON_PARSE_FAILED\",\n        message: String(err),\n        rawText,\n      },\n    });\n    continue;\n  }\n\n  // 3) n8n workflow formatÄ±na Ã§evir\n  const apiWorkflow = {\n    name: wf.name || \"ARGUS auto: Flow\",\n    // active BÄ°LEREK YOK, n8n read-only diye aÄŸlamasÄ±n\n    nodes: wf.nodes || [],\n    connections: wf.connections || {},\n    settings: wf.settings || {},\n  };\n\n  out.push({ json: { apiWorkflow } });\n}\n\nreturn out;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        96,
        -336
      ],
      "id": "8d2f6b99-da94-4f9a-a233-4ed14b66c459",
      "name": "Code in JavaScript2"
    },
    {
      "parameters": {
        "jsCode": "const item = items[0].json;\nconst data = item.data || item; // bazÄ± sÃ¼rÃ¼mler data iÃ§inde dÃ¶ner\n\nif (!data || !data.id) {\n  return [\n    {\n      json: {\n        ok: false,\n        error: item.message || item.error || 'Workflow oluÅŸturulamadÄ± (id yok).',\n        raw: item\n      }\n    }\n  ];\n}\n\nreturn [\n  {\n    json: {\n      ok: true,\n      workflowId: data.id,\n      name: data.name,\n      url: `https://argusbot.duckdns.org/workflow/${data.id}`\n    }\n  }\n];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        480,
        -320
      ],
      "id": "2ed90e95-4ce6-455b-85ac-0d7cfaadd1ef",
      "name": "N8N DÃ–NÃœÅ"
    },
    {
      "parameters": {
        "method": "POST",
        "url": "https://argusbot.duckdns.org/webhook/argus_memory_write",
        "sendBody": true,
        "specifyBody": "json",
        "jsonBody": "={\n  \"userId\": \"ULAS\",\n  \"type\": \"command\",\n  \"text\": \"CMD: {{$json.text}}\",\n  \"meta\": \"{\\\"source\\\":\\\"telegram\\\",\\\"chatId\\\":\\\"{{$json.chat_id}}\\\"}\"\n}\n",
        "options": {}
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        544,
        -544
      ],
      "id": "a1fccfa8-ecc4-4146-9db0-0b4928079239",
      "name": "WRITE_MEMORY_WORKFLOW.",
      "retryOnFail": true,
      "disabled": true
    },
    {
      "parameters": {
        "jsCode": "// Webhook'tan gelen isteÄŸi al\nconst req = $input.first().json;\nconst body = req.body || {};\nconst desc = body.description || 'AÃ§Ä±klama yok';\nconst name = body.workflowName || 'ARGUS auto: AkÄ±ÅŸ';\n\nconst systemPrompt = [\n  \"Sen bir N8N workflow uzmanÄ±sÄ±n. KullanÄ±cÄ± isteÄŸine gÃ¶re Ã§alÄ±ÅŸan JSON workflow Ã¼ret.\",\n  \"\",\n  \"KRÄ°TÄ°K KURALLAR:\",\n  \"1. SADECE JSON dÃ¶ndÃ¼r (aÃ§Ä±klama, markdown, baÅŸka hiÃ§bir ÅŸey YAZMA!)\",\n  \"2. active: false OLMALI\",\n  \"3. position: [240,300] ile baÅŸla, her yeni node iÃ§in x deÄŸerini +200 artÄ±r\",\n  \"4. Her node'a unique id ver (Ã¶rn: schedule-1, http-1, code-1, twilio-1)\",\n  \"5. connections objesinde node id'leri AYNEN kullan\",\n  \"\",\n  \"MEVCUT ENV VARIABLES (.env dosyasÄ±nda):\",\n  \"- TWILIO_ACCOUNT_SID: Twilio hesap ID\",\n  \"- TWILIO_AUTH_TOKEN: Twilio auth token\",\n  \"- TWILIO_PHONE_NUMBER: Arayan numara\",\n  \"- ALERT_TARGET_NUMBER: Aranacak numara\",\n  \"- TELEGRAM_BOT_TOKEN: Telegram bot token\",\n  \"- YOUTUBE_API_KEY: YouTube API key\",\n  \"- ANTHROPIC_API_KEY: Claude API key\",\n  \"\",\n  \"ENV KULLANIMI:\",\n  \"- Code node iÃ§inde: process.env.VARIABLE_NAME\",\n  \"- HTTP Request node'da URL/Header: {{$env.VARIABLE_NAME}} KULLANMA! Sadece Code node'da process.env\",\n  \"- Twilio gibi authentication gereken API'ler iÃ§in: TÃ¼m iÅŸlemi Code node'da yap\",\n  \"\",\n  \"â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\",\n  \"NODE TÄ°PLERÄ° VE ÅABLONLARI:\",\n  \"â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\",\n  \"\",\n  \"1ï¸âƒ£ SCHEDULE TRÄ°GGER (ZamanlÄ± baÅŸlatma):\",\n  \"{\",\n  '  \"type\": \"n8n-nodes-base.scheduleTrigger\",',\n  '  \"parameters\": {',\n  '    \"rule\": {',\n  '      \"interval\": [{',\n  '        \"field\": \"cronExpression\",',\n  '        \"expression\": \"0 9 * * *\"  // Her gÃ¼n 09:00',\n  \"      }]\",\n  \"    }\",\n  \"  },\",\n  '  \"position\": [240, 300],',\n  '  \"id\": \"schedule-1\",',\n  '  \"name\": \"Schedule Trigger\"',\n  \"}\",\n  \"\",\n  \"Cron Ã¶rnekleri:\",\n  \"- Her saat baÅŸÄ±: 0 * * * *\",\n  \"- GÃ¼nde bir (09:00): 0 9 * * *\",\n  \"- Her 15 dakikada: */15 * * * *\",\n  \"- Ä°ÅŸ gÃ¼nleri 09:00: 0 9 * * 1-5\",\n  \"\",\n  \"2ï¸âƒ£ MANUAL TRÄ°GGER:\",\n  \"{\",\n  '  \"type\": \"n8n-nodes-base.manualTrigger\",',\n  '  \"parameters\": {},',\n  '  \"position\": [240, 300],',\n  '  \"id\": \"manual-1\",',\n  '  \"name\": \"Manual Trigger\"',\n  \"}\",\n  \"\",\n  \"3ï¸âƒ£ HTTP GET REQUEST (Basit API Ã§aÄŸrÄ±sÄ±):\",\n  \"{\",\n  '  \"type\": \"n8n-nodes-base.httpRequest\",',\n  '  \"parameters\": {',\n  '    \"method\": \"GET\",',\n  '    \"url\": \"https://api.example.com/data\"',\n  \"  },\",\n  '  \"position\": [440, 300],',\n  '  \"id\": \"http-get-1\",',\n  '  \"name\": \"Fetch Data\"',\n  \"}\",\n  \"\",\n  \"4ï¸âƒ£ CODE NODE (Veri iÅŸleme):\",\n  \"{\",\n  '  \"type\": \"n8n-nodes-base.code\",',\n  '  \"parameters\": {',\n  '    \"jsCode\": \"const items = $input.all();\\\\nconst data = items[0].json;\\\\nreturn [{json: {processed: data}}];\"',\n  \"  },\",\n  '  \"position\": [640, 300],',\n  '  \"id\": \"code-1\",',\n  '  \"name\": \"Process Data\"',\n  \"}\",\n  \"\",\n  \"CODE NODE Ä°Ã‡Ä°NDE:\",\n  \"- $input.all() ile tÃ¼m itemlarÄ± al\",\n  \"- $input.first() ile ilk item\",\n  \"- process.env.VARIABLE ile ENV deÄŸiÅŸkenlerine eriÅŸ\",\n  \"- Return [{json: {...}}] formatÄ±nda dÃ¶ndÃ¼r\",\n  \"\",\n  \"5ï¸âƒ£ TELEGRAM MESAJ GÃ–NDER:\",\n  \"{\",\n  '  \"type\": \"n8n-nodes-base.httpRequest\",',\n  '  \"parameters\": {',\n  '    \"method\": \"POST\",',\n  '    \"url\": \"https://api.telegram.org/bot{{BOT_TOKEN}}/sendMessage\",',\n  '    \"sendBody\": true,',\n  '    \"specifyBody\": \"json\",',\n  '    \"jsonBody\": \"={{ {chat_id: $json.chat_id, text: $json.message} }}\"',\n  \"  },\",\n  '  \"position\": [840, 300],',\n  '  \"id\": \"telegram-1\",',\n  '  \"name\": \"Send Telegram\"',\n  \"}\",\n  \"\",\n  \"NOT: Telegram iÃ§in BOT_TOKEN yerine process.env kullanmak iÃ§in Code node ile gÃ¶nder!\",\n  \"\",\n  \"6ï¸âƒ£ TWÄ°LÄ°O TELEFON ARAMASI (TEK CODE NODE - EN GÃœÃ‡LÃœ YÃ–NTEM!):\",\n  \"\",\n  \"âš ï¸  DÄ°KKAT: Twilio iÃ§in authentication gerektiÄŸi iÃ§in TÃœM Ä°ÅLEMÄ° CODE NODE Ä°Ã‡Ä°NDE YAP!\",\n  \"\",\n  \"{\",\n  '  \"type\": \"n8n-nodes-base.code\",',\n  '  \"parameters\": {',\n  '    \"jsCode\": \"// Twilio API call - Tek node\\\\nconst accountSid = process.env.TWILIO_ACCOUNT_SID;\\\\nconst authToken = process.env.TWILIO_AUTH_TOKEN;\\\\nconst from = process.env.TWILIO_PHONE_NUMBER;\\\\nconst to = process.env.ALERT_TARGET_NUMBER;\\\\n\\\\nconst message = $json.message || \\'Test mesajÄ±\\';\\\\nconst twiml = `<Response><Say language=\\\\\\\\\\\"tr-TR\\\\\\\\\\\">${message}</Say></Response>`;\\\\n\\\\nconst formBody = `To=${encodeURIComponent(to)}&From=${encodeURIComponent(from)}&Twiml=${encodeURIComponent(twiml)}`;\\\\n\\\\nconst auth = Buffer.from(`${accountSid}:${authToken}`).toString(\\'base64\\');\\\\n\\\\nconst response = await $http.request({\\\\n  method: \\'POST\\',\\\\n  url: `https://api.twilio.com/2010-04-01/Accounts/${accountSid}/Calls.json`,\\\\n  headers: {\\\\n    \\'Content-Type\\': \\'application/x-www-form-urlencoded\\',\\\\n    \\'Authorization\\': `Basic ${auth}`\\\\n  },\\\\n  body: formBody\\\\n});\\\\n\\\\nreturn [{json: response}];\"',\n  \"  },\",\n  '  \"position\": [640, 300],',\n  '  \"id\": \"twilio-call-1\",',\n  '  \"name\": \"Make Twilio Call\"',\n  \"}\",\n  \"\",\n  \"KRÄ°TÄ°K: YukarÄ±daki Twilio node'unu AYNEN KOPYALA!\",\n  \"- process.env ile credentials al\",\n  \"- Buffer.from ile base64 encode yap\",\n  \"- $http.request ile API call yap\",\n  \"- form-urlencoded body kullan\",\n  \"\",\n  \"7ï¸âƒ£ KRÄ°PTO FÄ°YAT Ã‡EKME (CoinGecko - API key gereksiz):\",\n  \"{\",\n  '  \"type\": \"n8n-nodes-base.httpRequest\",',\n  '  \"parameters\": {',\n  '    \"method\": \"GET\",',\n  '    \"url\": \"https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=try\"',\n  \"  },\",\n  '  \"id\": \"btc-price\",',\n  '  \"name\": \"Get BTC Price\"',\n  \"}\",\n  \"\",\n  \"DiÄŸer crypto: ids=ethereum,solana,cardano\",\n  \"DiÄŸer currency: vs_currencies=usd,eur,try\",\n  \"\",\n  \"8ï¸âƒ£ YOUTUBE ARAMA (Code node ile API key kullanÄ±mÄ±):\",\n  \"{\",\n  '  \"type\": \"n8n-nodes-base.code\",',\n  '  \"parameters\": {',\n  '    \"jsCode\": \"const apiKey = process.env.YOUTUBE_API_KEY;\\\\nconst query = $json.query || \\'test\\';\\\\nconst url = `https://www.googleapis.com/youtube/v3/search?q=${encodeURIComponent(query)}&key=${apiKey}&part=snippet&maxResults=5`;\\\\n\\\\nconst response = await $http.request({method: \\'GET\\', url});\\\\nreturn [{json: response}];\"',\n  \"  },\",\n  '  \"id\": \"youtube-1\",',\n  '  \"name\": \"Search YouTube\"',\n  \"}\",\n  \"\",\n  \"â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\",\n  \"CONNECTIONS (NODE BAÄLANTILARI):\",\n  \"â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\",\n  \"\",\n  \"Format:\",\n  '\"connections\": {',\n  '  \"node1-id\": {',\n  '    \"main\": [[{',\n  '      \"node\": \"node2-id\",',\n  '      \"type\": \"main\",',\n  '      \"index\": 0',\n  \"    }]]\",\n  \"  },\",\n  '  \"node2-id\": {',\n  '    \"main\": [[{',\n  '      \"node\": \"node3-id\",',\n  '      \"type\": \"main\",',\n  '      \"index\": 0',\n  \"    }]]\",\n  \"  }\",\n  \"}\",\n  \"\",\n  \"Ã–RNEK: Schedule â†’ HTTP GET â†’ Code â†’ Twilio:\",\n  '\"connections\": {',\n  '  \"schedule-1\": {\"main\": [[{\"node\": \"http-get-1\", \"type\": \"main\", \"index\": 0}]]},',\n  '  \"http-get-1\": {\"main\": [[{\"node\": \"code-1\", \"type\": \"main\", \"index\": 0}]]},',\n  '  \"code-1\": {\"main\": [[{\"node\": \"twilio-call-1\", \"type\": \"main\", \"index\": 0}]]}',\n  \"}\",\n  \"\",\n  \"â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\",\n  \"KOMPLE WORKFLOW Ã–RNEÄÄ° (BTC FÄ°YAT + TWÄ°LÄ°O ARAMA):\",\n  \"â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\",\n  \"\",\n  \"{\",\n  '  \"name\": \"BTC Fiyat Bildirimi\",',\n  '  \"active\": false,',\n  '  \"nodes\": [',\n  \"    {\",\n  '      \"type\": \"n8n-nodes-base.scheduleTrigger\",',\n  '      \"parameters\": {\"rule\": {\"interval\": [{\"field\": \"cronExpression\", \"expression\": \"0 9 * * *\"}]}},',\n  '      \"position\": [240, 300],',\n  '      \"id\": \"schedule-1\",',\n  '      \"name\": \"Daily at 9AM\"',\n  \"    },\",\n  \"    {\",\n  '      \"type\": \"n8n-nodes-base.httpRequest\",',\n  '      \"parameters\": {\"method\": \"GET\", \"url\": \"https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=try\"},',\n  '      \"position\": [440, 300],',\n  '      \"id\": \"btc-price\",',\n  '      \"name\": \"Get BTC Price\"',\n  \"    },\",\n  \"    {\",\n  '      \"type\": \"n8n-nodes-base.code\",',\n  '      \"parameters\": {\"jsCode\": \"const items = $input.all();\\\\nconst price = Math.round(items[0].json.bitcoin.try);\\\\nreturn [{json: {message: `Bitcoin fiyatÄ± ${price} TL`}}];\"},',\n  '      \"position\": [640, 300],',\n  '      \"id\": \"format-price\",',\n  '      \"name\": \"Format Message\"',\n  \"    },\",\n  \"    {\",\n  '      \"type\": \"n8n-nodes-base.code\",',\n  '      \"parameters\": {\"jsCode\": \"const accountSid = process.env.TWILIO_ACCOUNT_SID;\\\\nconst authToken = process.env.TWILIO_AUTH_TOKEN;\\\\nconst from = process.env.TWILIO_PHONE_NUMBER;\\\\nconst to = process.env.ALERT_TARGET_NUMBER;\\\\nconst message = $json.message;\\\\nconst twiml = `<Response><Say language=\\\\\\\\\\\"tr-TR\\\\\\\\\\\">${message}</Say></Response>`;\\\\nconst formBody = `To=${encodeURIComponent(to)}&From=${encodeURIComponent(from)}&Twiml=${encodeURIComponent(twiml)}`;\\\\nconst auth = Buffer.from(`${accountSid}:${authToken}`).toString(\\'base64\\');\\\\nconst response = await $http.request({method: \\'POST\\', url: `https://api.twilio.com/2010-04-01/Accounts/${accountSid}/Calls.json`, headers: {\\'Content-Type\\': \\'application/x-www-form-urlencoded\\', \\'Authorization\\': `Basic ${auth}`}, body: formBody});\\\\nreturn [{json: response}];\"},',\n  '      \"position\": [840, 300],',\n  '      \"id\": \"twilio-call\",',\n  '      \"name\": \"Call with Price\"',\n  \"    }\",\n  \"  ],\",\n  '  \"connections\": {',\n  '    \"schedule-1\": {\"main\": [[{\"node\": \"btc-price\", \"type\": \"main\", \"index\": 0}]]},',\n  '    \"btc-price\": {\"main\": [[{\"node\": \"format-price\", \"type\": \"main\", \"index\": 0}]]},',\n  '    \"format-price\": {\"main\": [[{\"node\": \"twilio-call\", \"type\": \"main\", \"index\": 0}]]}',\n  \"  },\",\n  '  \"settings\": {}',\n  \"}\",\n  \"\",\n  \"â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\",\n  \"SON KURALLAR:\",\n  \"â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•\",\n  \"\",\n  \"âœ… YAPILACAKLAR:\",\n  \"1. KullanÄ±cÄ± isteÄŸini anla\",\n  \"2. YukarÄ±daki ÅŸablonlarÄ± AYNEN KOPYALA\",\n  \"3. Sadece: cron zamanÄ±, API URL, mesaj metni deÄŸiÅŸtir\",\n  \"4. ENV deÄŸiÅŸkenlerini process.env ile Code node'da kullan\",\n  \"5. Her node'a unique id ver\",\n  \"6. connections'da bu id'leri kullan\",\n  \"7. SADECE JSON dÃ¶ndÃ¼r, baÅŸka hiÃ§bir ÅŸey yazma!\",\n  \"\",\n  \"âŒ YAPILMAYACAKLAR:\",\n  \"1. {{$env.VAR}} kullanma (sadece Code node iÃ§inde process.env)\",\n  \"2. Twilio iÃ§in HTTP Request node + authentication kullanma\",\n  \"3. AÃ§Ä±klama, yorum, markdown ekleme\",\n  \"4. Active: true yapma\",\n  \"\",\n  \"ğŸ¯ KRÄ°TÄ°K: Twilio, YouTube gibi AUTH gereken API'ler iÃ§in:\",\n  \"â†’ TÃ¼m iÅŸlemi Code node iÃ§inde yap\",\n  \"â†’ process.env ile credentials al\",\n  \"â†’ $http.request ile API call yap\",\n  \"\",\n  \"SADECE JSON DÃ–NDÃœR!\"\n].join(\"\\n\");\n\nconst userPrompt = `Ä°stek: \"${desc}\"\\n\\nYukarÄ±daki ÅŸablonlarÄ± AYNEN kullan. Twilio iÃ§in tek Code node, process.env kullan. SADECE JSON dÃ¶ndÃ¼r!`;\n\nreturn [{\n  json: {\n    workflowName: name,\n    claudeRequest: {\n      model: 'claude-sonnet-4-5-20250929',\n      max_tokens: 8192,\n      temperature: 0.1,\n      system: systemPrompt,\n      messages: [{\n        role: 'user',\n        content: [{type: 'text', text: userPrompt}]\n      }]\n    }\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -304,
        -336
      ],
      "id": "494b6748-7d46-48d6-a0f5-a157e3f02097",
      "name": "KURALLAR"
    }
  ],
  "pinData": {},
  "connections": {
    "TOOL_create_n8n_flow": {
      "main": [
        [
          {
            "node": "KURALLAR",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "X-N8N-API-KEY": {
      "main": [
        [
          {
            "node": "N8N DÃ–NÃœÅ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Code in JavaScript2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript2": {
      "main": [
        [
          {
            "node": "X-N8N-API-KEY",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "N8N DÃ–NÃœÅ": {
      "main": [
        [
          {
            "node": "Respond to Webhook1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "WRITE_MEMORY_WORKFLOW.": {
      "main": [
        []
      ]
    },
    "KURALLAR": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1",
    "timezone": "Europe/Istanbul",
    "callerPolicy": "workflowsFromSameOwner",
    "availableInMCP": false
  },
  "versionId": "0416f1b7-4546-4cad-ade0-a8b7e8bf9a3d",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "b3095fc29cb871b1a1fa62649bfd13016a8a983bdcd4a1523275b8f83ce36cce"
  },
  "id": "0OvLyVNV4rEQp2qz",
  "tags": []
}